-- 단일행 함수
-- 그룹 함수
SELECT NVL(COMM, 0), TO_CHAR(HIREDATE, 'YYYYMMDD'), HIREDATE, HIREDATE - 1
  FROM EMP;

DESC DUAL;

SELECT ABS(- 9)
  FROM DUAL;

SELECT FLOOR(34.5678)
  FROM DUAL;

SELECT TRUNC(34.5678, 1)
  FROM DUAL
UNION ALL
SELECT TRUNC(34.5678, 0)
  FROM DUAL
UNION ALL
SELECT TRUNC(34.5678, - 1)
  FROM DUAL;

SELECT ROUND(34.5678, 1)
  FROM DUAL;

-- EMP 테이블 이름, 급여 십의 자리 까지만 출력

SELECT ENAME, TRUNC(SAL, - 1)
  FROM EMP;

SELECT ENAME, TRUNC(SAL, - 1), ROUND(SAL, - 1), ROUND(SAL, - 2), ROUND(SAL, - 3)
  FROM EMP;

SELECT A.*, TO_CHAR(HIREDATE, 'MM')
  FROM EMP A
 WHERE MOD(TO_CHAR(HIREDATE, 'MM'), 2) = 1;

SELECT ACOS(- 1)
  FROM DUAL;

SELECT UPPER('abcABC')
  FROM DUAL
UNION ALL
SELECT LOWER('abcABC')
  FROM DUAL
UNION ALL
SELECT INITCAP('abcABC')
  FROM DUAL;

SELECT *
  FROM EMP
 WHERE JOB = UPPER('MANAGER');

SELECT EMPNO, INITCAP(ENAME)
  FROM EMP;

SELECT A.ENAME, B.ENAME, CONCAT(A.ENAME, B.ENAME)
  FROM EMP A, EMP B
 WHERE A.MGR = B.EMPNO;

--- 아무개는 XX다(이름은 JOB이다)

SELECT ENAME
       || '은 '
       || JOB
       || '이다'
  FROM EMP;

SELECT SUBSTR(JOB, 2, 4)
  FROM EMP;

SELECT SUBSTR('WELCOME TO ORACLE', 3, 2)
  FROM DUAL
UNION ALL
SELECT SUBSTRB('WELCOME TO ORACLE', 3, 2)
  FROM DUAL
UNION ALL
SELECT SUBSTR('데이터베이스', 4, 2)
  FROM DUAL
UNION ALL
SELECT SUBSTRB('데이터베이스', 4, 2)
  FROM DUAL;

SELECT HIREDATE, MON, CASE
    WHEN LENGTH(MON) = 1 THEN
        '0' || MON
    ELSE
        TO_CHAR(MON)
END AS STRMON
  FROM (
    SELECT HIREDATE, EXTRACT(MONTH FROM HIREDATE) AS MON
      FROM EMP
);

SELECT LENGTH('데이터베이스')
  FROM DUAL
UNION ALL
SELECT LENGTHB('데이터베이스')
  FROM DUAL;

SELECT INSTR('ABCABC', 'B')
  FROM DUAL;

SELECT INSTR('ABCABC', 'B', 3)
  FROM DUAL;

SELECT *
  FROM EMP
 WHERE INSTR(HIREDATE, '09') = 4;

SELECT *
  FROM EMP
 WHERE INSTR(HIREDATE, '09') = 7;

SELECT LPAD('ORACLE', 20, '*')
  FROM DUAL
UNION ALL
SELECT RPAD('ORACLE', 20, '*')
  FROM DUAL;

SELECT EMPNO, ENAME, RPAD(SUBSTR(ENAME, 1, 1), LENGTH(ENAME), '*') AS NAMEASTEK, 
       RPAD(SUBSTR(HIREDATE, 1, 6), 8, '*') AS HIEDATEASTEK
  FROM EMP;

SELECT EMPNO, ENAME, LPAD(SUBSTR(ENAME, LENGTH(ENAME) - 1, 1), LENGTH(ENAME), '*') AS NAMEASTEK,
       RPAD(SUBSTR(HIREDATE, 1, 6), 8, '*') AS HIREDATEASTEK
  FROM EMP;
  
  
SELECT ENAME
  FROM EMP
WHERE ENAME LIKE ('__R%');

SELECT ENAME
  FROM EMP
WHERE SUBSTR(ENAME,3,1) = 'R';

SELECT ENAME
  FROM EMP
WHERE INSTR(ENAME,'R') = 3;

SELECT TRIM (' ORACLE ') FROM DUAL
UNION ALL
SELECT RTRIM (' ORACLE ') FROM DUAL
UNION ALL
SELECT LTRIM (' ORACLE ') FROM DUAL;

SELECT TO_CHAR(SYSDATE, 'YYYY-MM-DD HH24:MI:SS') ,
        TO_CHAR(SYSDATE-1, 'YYYY-MM-DD HH24:MI:SS') ,
        TO_CHAR(SYSDATE+1, 'YYYY-MM-DD HH24:MI:SS') 
FROM DUAL;


SELECT SYSDATE+14 FROM DUAL;

SELECT A.*, TRUNC((SYSDATE-HIREDATE)/7) FROM EMP A;

SELECT ENAME, HIREDATE, TRUNC(MONTHS_BETWEEN(SYSDATE, HIREDATE)) FROM EMP;

SELECT ENAME, HIREDATE, ADD_MONTHS(HIREDATE,6) "헬조선 수습" FROM EMP;

SELECT ENAME, HIREDATE, LAST_DAY(HIREDATE) FROM EMP;

SELECT ROUND(SYSDATE-0.5) FROM DUAL;

SELECT HIREDATE, ROUND(HIREDATE, 'MONTH')+15 첫월급날 FROM EMP; -- 월급날이 16일



-- 이름 입사일 입사일달의 1일
SELECT ENAME, HIREDATE,TRUNC(HIREDATE) FROM EMP;

-- 이름 입사일 월급날 (25일)
SELECT ENAME, HIREDATE, TRUNC(HIREDATE,'MONTH') , ROUND(HIREDATE,'MONTH') FROM EMP;

S
