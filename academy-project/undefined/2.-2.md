# 2. 기능 명세서

## 주요 기능 명세

| 번호 | 요구사항  | 요구사항 내용 |
| :--- | :--- | :--- |
| Server | 페이지 이동 | 유저 정보 확인 페이지의 이동을 스스로 할 수 있어야 한다 |
| Server | 페이지 이미지 수집  | 상태창을 이미지로 수집하여 저장 할 수 있어야 한다 |
| Server | 텍스트 변환 | 수집된 이미지를 텍스트로 변환 가능 해야 한다 |
| Server | 작업 분업 | 작업의 유연성을 위해 작업을 분리하고 독립적으로 실행 가능하게 한다. |
| Server | 작업 검증 | 작업 성공여부를 검증하기 위한 검증 로직을 별도로 구성해야 한다 |
| Server | DB 저장  | 수집된 텍스트를 DB에 저장할 수 있어야 한다 |
| Server | 매크로 방지 | 매크로 방지를 스스로 해결 할 수 있어야 한다\(....미침\) |
| Server | 작업 매니저 | 프로그램의 수집 상태를 확인하고 업무의 분배 및 재시작 점을 관리한다 |
| Client | 작업 조회 | 작업의 성공, 실패 및 진행도 등 수집기의  작업 진행 상태를 확인한다. |
| Client | 사용자 조 페이지 | 여러 조회 조건으로 유저의 정보 변동을 확인 할 수 있어야 한다. |

## 페이지 이동 

* 수집될 유저의 정보를 확인 할 수 있는 페이지로 자동 이동한다. 
* 페이지 이동 및 상태 창 요청시 서버의 응답 시간을 고려하여 적당한 시간 간격을 둔다.
* 정확한 페이지의 이동 여부를 확인 할 수 없으므로 검증 기능에 의존한다

## 페이지 이미지 수

* 정확한 이미지 추출을 위해 페이지는 기준점을 유지해야 한다
* 이미지의 정확성을 확인 할 수 없으므로 검증 기능에 의존한다.
* 페이지 이동과 다르게 이미지 처리는 시간이 걸리는 작업이므로 파일명을 잘 분리하여 재시작 지점을 최적화 한다.

## 텍스트 변환 

* 이미지를 텍스트로 변환한다.
* 변환된 텍스트에는 쓰레기 값이 있으므로 적절히 가공한다.

## 작업 분업

* 작업은 크게 다음과 같이 분리한다.
* 이미지 수집기: 페이지 이동, 이미지 수집 및 저장
* 텍스트 변환 : 이미지 텍스트 변환, 텍스트 가공
* 작업 매니저 :  변환된 텍스트의 길이,  DB 데이터와 비교등으로 검증, DB 입력 , 작업 단계 기록
* 로깅  : 작업의 단계별 세부 내역을를 텍스트르에 기록
* 매크로 방지 : 매크로 방지 로직 해결

## DB 저장

* 수집된 데이터를 DB에 저장한다. 
* 조회 속도를 보장 할 수 있게 설계한다.

## 매크로 방지\(구현 순위 낮음\)

* OPENCV 라이브러리를 이용하여 이미지 프로세싱을 했으나 한계 느낌
* 이미지 전처리 프로세싱 \(공부중\) 하지만 이것으로도 부족할듯 
* 이미지 학습 없이 CAPTCHA 를 뚫는건 불가능 하다고 생각됨  \(다시  맨땅 시작해야함\)
* 찾은 이미지 클릭 

## 작업 매니저

* 프로그램의 이미지 수집, 텍스트 처리 등을 확
* 수집의 성공, 실패를 기록한다
* 주기적으로 수집 통계 데이터 생성

## 작업 조회 페이

* 작업 상태 확인 할 수 있는 페이지

## 사용자 조회 페이지

* 사용자 요구 사항에 따라 추후 설계
* 빠른 속도를 낼 수 있게 쿼리를 짠다.









